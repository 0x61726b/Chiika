language: node_js
node_js:
  - 0.12
addons:
  apt:
    packages:
      - xvfb

before_install:
  - if [[ $TRAVIS_OS_NAME = "linux" ]]; then
      export DISPLAY=:99.0;
      sh -e /etc/init.d/xvfb start;
      sleep 3;
    fi


install:
  - npm install -g coffee-script
  - npm install -g mocha
  - npm install -g electron-mocha
  - npm install
  - electron-mocha --compilers coffee:coffee-script/register ./spec/app-spec.coffee

script:
  - npm install
